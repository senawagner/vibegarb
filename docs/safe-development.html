<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desenvolvimento Seguro - Vibe Garb E-commerce</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>üìö Documenta√ß√£o</h2>
                <p>Vibe Garb E-commerce</p>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="index.html">üè† In√≠cio</a></li>
                    <li><a href="architecture.html">üèóÔ∏è Arquitetura</a></li>
                    <li><a href="database.html">üóÑÔ∏è Banco de Dados</a></li>
                    <li><a href="development.html">üöÄ Desenvolvimento</a></li>
                    <li><a href="build.html">üî® Sistema de Build</a></li>
                    <li><a href="checkout-implementation.html">üí≥ Checkout</a></li>
                    <li><a href="current-status.html">üìä Status Atual</a></li>
                    <li><a href="mvp-plan.html">üìã Plano MVP</a></li>
                    <li><a href="mvp-migrations.html">üîß Migra√ß√µes MVP</a></li>
                    <li><a href="troubleshooting.html">üõ†Ô∏è Troubleshooting</a></li>
                    <li><a href="session-implementations.html">üìù Implementa√ß√µes</a></li>
                    <li><a href="dropshipping-model.html">üì¶ Modelo Dropshipping</a></li>
                    <li><a href="git-workflow.html">üîÑ Git Workflow</a></li>
                    <li><a href="safe-development.html" class="active">üõ°Ô∏è Desenvolvimento Seguro</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <h1>Desenvolvimento Seguro</h1>
                <p class="subtitle">Estrat√©gias para Mudan√ßas Cr√≠ticas sem Quebrar o Projeto</p>
                <p class="date">Criado: 07 de Julho de 2025</p>
            </header>

            <div class="content-grid">
                <!-- Problema a Resolver -->
                <div class="card">
                    <h2>Cen√°rio: Mudan√ßas Significativas na Estiliza√ß√£o</h2>
                    <p><strong>Desafio:</strong> Precisamos fazer mudan√ßas significativas na p√°gina inicial da loja, mas da √∫ltima vez isso quebrou todo o projeto.</p>
                    
                    <h3>Riscos Identificados</h3>
                    <div class="error-box">
                        <ul>
                            <li><strong>CSS Breaking:</strong> Altera√ß√µes podem quebrar layout existente</li>
                            <li><strong>JavaScript Conflicts:</strong> Novos scripts podem conflitar</li>
                            <li><strong>Responsividade:</strong> Mobile pode ficar comprometido</li>
                            <li><strong>Performance:</strong> Assets grandes podem degradar performance</li>
                            <li><strong>Funcionalidades:</strong> Checkout e carrinho podem parar de funcionar</li>
                        </ul>
                    </div>

                    <h3>Solu√ß√£o: Desenvolvimento em Camadas</h3>
                    <p>Implementaremos uma estrat√©gia de <strong>3 ambientes</strong> com rollback seguro garantido.</p>
                </div>

                <!-- Estrat√©gia de Branches -->
                <div class="card">
                    <h2>Estrat√©gia 1: Feature Branches (Recomendada)</h2>
                    
                    <h3>Estrutura de Branches</h3>
                    <div class="flow-steps">
                        <div class="flow-step">
                            <span class="step-number">1</span>
                            <div class="step-content">
                                <strong>feature/redesign-homepage</strong>
                                <p>Branch espec√≠fica para mudan√ßas de estilo</p>
                                <em>‚úÖ Criada e ativa</em>
                            </div>
                        </div>
                        
                        <div class="flow-step">
                            <span class="step-number">2</span>
                            <div class="step-content">
                                <strong>develop</strong>
                                <p>C√≥digo est√°vel para desenvolvimento</p>
                                <em>üîí Protegida - MVP v1.0.0</em>
                            </div>
                        </div>

                        <div class="flow-step">
                            <span class="step-number">3</span>
                            <div class="step-content">
                                <strong>homolog</strong>
                                <p>Branch de homologa√ß√£o para testes</p>
                                <em>üöÄ Ser√° criada para testes</em>
                            </div>
                        </div>

                        <div class="flow-step">
                            <span class="step-number">4</span>
                            <div class="step-content">
                                <strong>main</strong>
                                <p>Produ√ß√£o est√°vel</p>
                                <em>üèÜ MVP v1.0.0 protegido</em>
                            </div>
                        </div>
                    </div>

                    <h3>Fluxo de Trabalho Seguro</h3>
                    <div class="code-block">
                        <pre><code># 1. Trabalhar na feature
git checkout feature/redesign-homepage
# Fazer mudan√ßas...
git add .
git commit -m "style: novo design da homepage"

# 2. Testar localmente
docker-compose up -d
# Verificar se tudo funciona

# 3. Push da feature
git push origin feature/redesign-homepage

# 4. Merge para homolog (quando pronto)
git checkout homolog
git merge feature/redesign-homepage

# 5. Testar em homolog
# Deploy em ambiente de teste

# 6. Se aprovado, merge para develop
git checkout develop
git merge feature/redesign-homepage

# 7. Se tudo ok, merge para main
git checkout main
git merge develop</code></pre>
                    </div>
                </div>

                <!-- Estrat√©gia de Ambientes -->
                <div class="card">
                    <h2>Estrat√©gia 2: Ambientes Duplicados (Mais Seguro)</h2>
                    
                    <h3>Estrutura de Diret√≥rios</h3>
                    <div class="file-tree">
                        <pre>C:\projetos_2025\
‚îú‚îÄ‚îÄ vibegarb\           # üîß Desenvolvimento
‚îú‚îÄ‚îÄ vibegarb-homolog\   # üß™ Homologa√ß√£o  
‚îî‚îÄ‚îÄ vibegarb-prod\      # üöÄ Produ√ß√£o</pre>
                    </div>

                    <h3>Configura√ß√£o dos Ambientes</h3>
                    <div class="config-grid">
                        <div class="config-item">
                            <div class="config-key">üîß Desenvolvimento</div>
                            <div class="config-description">
                                <strong>Porta:</strong> 8000<br>
                                <strong>Banco:</strong> vibegarb_dev<br>
                                <strong>Debug:</strong> Ativo
                            </div>
                        </div>
                        <div class="config-item">
                            <div class="config-key">üß™ Homologa√ß√£o</div>
                            <div class="config-description">
                                <strong>Porta:</strong> 8001<br>
                                <strong>Banco:</strong> vibegarb_homolog<br>
                                <strong>Debug:</strong> Limitado
                            </div>
                        </div>
                        <div class="config-item">
                            <div class="config-key">üöÄ Produ√ß√£o</div>
                            <div class="config-description">
                                <strong>Porta:</strong> 8002<br>
                                <strong>Banco:</strong> vibegarb_prod<br>
                                <strong>Debug:</strong> Desativado
                            </div>
                        </div>
                    </div>

                    <h3>Comandos para Criar Ambientes</h3>
                    <div class="code-block">
                        <pre><code># Criar ambiente de homologa√ß√£o
cd C:\projetos_2025
git clone vibegarb vibegarb-homolog
cd vibegarb-homolog

# Configurar portas diferentes
# Editar docker-compose.yml para usar porta 8001
# Editar .env para banco vibegarb_homolog

# Subir homolog
docker-compose up -d

# Criar ambiente de produ√ß√£o
cd C:\projetos_2025
git clone vibegarb vibegarb-prod
cd vibegarb-prod

# Configurar para produ√ß√£o
# Porta 8002, banco vibegarb_prod</code></pre>
                    </div>
                </div>

                <!-- Rollback Strategies -->
                <div class="card">
                    <h2>Estrat√©gias de Rollback</h2>
                    
                    <h3>Rollback por Git (R√°pido)</h3>
                    <div class="code-block">
                        <pre><code># Ver hist√≥rico de commits
git log --oneline -10

# Rollback para commit espec√≠fico (soft)
git reset --soft HEAD~1

# Rollback completo (hard) - CUIDADO!
git reset --hard [hash-do-commit]

# Rollback de merge
git revert -m 1 [hash-do-merge]

# Voltar para develop segura
git checkout develop
git branch -D feature/redesign-homepage</code></pre>
                    </div>

                    <h3>Rollback por Backup (Seguro)</h3>
                    <div class="code-block">
                        <pre><code># Antes das mudan√ßas - backup completo
cp -r vibegarb vibegarb-backup-$(date +%Y%m%d)

# Em caso de emerg√™ncia
rm -rf vibegarb
mv vibegarb-backup-20250707 vibegarb
cd vibegarb
docker-compose up -d</code></pre>
                    </div>

                    <h3>Rollback por Branch</h3>
                    <div class="code-block">
                        <pre><code># Manter sempre branch est√°vel
git checkout develop  # Volta para vers√£o est√°vel
git branch -D feature/redesign-homepage  # Remove branch problem√°tica
git push origin develop  # Atualiza remoto</code></pre>
                    </div>
                </div>

                <!-- Processo de Testes -->
                <div class="card">
                    <h2>Processo de Testes Obrigat√≥rios</h2>
                    
                    <h3>Checklist de Valida√ß√£o</h3>
                    <div class="task-list">
                        <div class="task-item pending">[ ] <strong>Homepage carrega:</strong> Sem erros 500/404</div>
                        <div class="task-item pending">[ ] <strong>Layout responsivo:</strong> Mobile/tablet funcionais</div>
                        <div class="task-item pending">[ ] <strong>Navega√ß√£o:</strong> Todos os links funcionam</div>
                        <div class="task-item pending">[ ] <strong>Carrinho:</strong> Adicionar/remover produtos</div>
                        <div class="task-item pending">[ ] <strong>Checkout:</strong> Fluxo completo funcional</div>
                        <div class="task-item pending">[ ] <strong>Admin:</strong> Painel acess√≠vel e funcional</div>
                        <div class="task-item pending">[ ] <strong>Performance:</strong> Carregamento < 3s</div>
                        <div class="task-item pending">[ ] <strong>JavaScript:</strong> Console sem erros</div>
                    </div>

                    <h3>Testes Automatizados</h3>
                    <div class="code-block">
                        <pre><code># Verificar se containers sobem
docker-compose up -d
docker-compose ps

# Testar endpoints cr√≠ticos
curl -I http://localhost:8000
curl -I http://localhost:8000/admin
curl -I http://localhost:8000/checkout

# Verificar logs de erro
docker-compose logs app | grep ERROR
docker-compose logs webserver | grep ERROR</code></pre>
                    </div>
                </div>

                <!-- Implementa√ß√£o Pr√°tica -->
                <div class="card">
                    <h2>Implementa√ß√£o Pr√°tica - Redesign Homepage</h2>
                    
                    <h3>Passo a Passo Seguro</h3>
                    <div class="flow-steps">
                        <div class="flow-step">
                            <span class="step-number">1</span>
                            <div class="step-content">
                                <strong>Backup Completo</strong>
                                <p>Fazer backup de toda pasta vibegarb</p>
                                <em>‚úÖ Implementado</em>
                            </div>
                        </div>
                        
                        <div class="flow-step">
                            <span class="step-number">2</span>
                            <div class="step-content">
                                <strong>Branch de Feature</strong>
                                <p>Criar feature/redesign-homepage</p>
                                <em>‚úÖ Criada</em>
                            </div>
                        </div>

                        <div class="flow-step">
                            <span class="step-number">3</span>
                            <div class="step-content">
                                <strong>Mudan√ßas Incrementais</strong>
                                <p>Pequenas mudan√ßas com commits frequentes</p>
                                <em>üîÑ Pr√≥ximo passo</em>
                            </div>
                        </div>

                        <div class="flow-step">
                            <span class="step-number">4</span>
                            <div class="step-content">
                                <strong>Testes Cont√≠nuos</strong>
                                <p>Verificar funcionalidade a cada mudan√ßa</p>
                                <em>üîÑ Processo cont√≠nuo</em>
                            </div>
                        </div>

                        <div class="flow-step">
                            <span class="step-number">5</span>
                            <div class="step-content">
                                <strong>Valida√ß√£o Final</strong>
                                <p>Checklist completo antes do merge</p>
                                <em>‚è≥ Aguardando</em>
                            </div>
                        </div>
                    </div>

                    <h3>Arquivos a Modificar (Redesign)</h3>
                    <div class="feature-list">
                        <div class="feature-item">
                            <span class="feature-icon">üé®</span>
                            <div><strong>resources/views/welcome.blade.php</strong> - Template da homepage</div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üíÑ</span>
                            <div><strong>resources/css/</strong> - Novos estilos CSS</div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üñºÔ∏è</span>
                            <div><strong>public/images/</strong> - Novas imagens e assets</div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">‚ö°</span>
                            <div><strong>resources/js/</strong> - Scripts de intera√ß√£o</div>
                        </div>
                    </div>
                </div>

                <!-- Monitoramento -->
                <div class="card">
                    <h2>Monitoramento Durante Desenvolvimento</h2>
                    
                    <h3>Comandos de Verifica√ß√£o</h3>
                    <div class="code-block">
                        <pre><code># Verificar status constantemente
git status

# Ver diferen√ßas antes do commit
git diff

# Logs em tempo real
docker-compose logs -f app

# Verificar performance
curl -w "@curl-format.txt" -s -o /dev/null http://localhost:8000

# Verificar responsividade (Chrome DevTools)
# F12 > Toggle Device Toolbar</code></pre>
                    </div>

                    <h3>Pontos de Verifica√ß√£o</h3>
                    <div class="feature-list">
                        <div class="feature-item">
                            <span class="feature-icon">‚è±Ô∏è</span>
                            <div><strong>A cada 30min:</strong> Commit das mudan√ßas</div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üîç</span>
                            <div><strong>A cada commit:</strong> Testar homepage no browser</div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üì±</span>
                            <div><strong>A cada mudan√ßa CSS:</strong> Verificar mobile</div>
                        </div>
                        <div class="feature-item">
                            <span class="feature-icon">üõí</span>
                            <div><strong>Ao final do dia:</strong> Testar fluxo de checkout</div>
                        </div>
                    </div>
                </div>

                <!-- Conting√™ncia -->
                <div class="card">
                    <h2>Plano de Conting√™ncia</h2>
                    
                    <h3>Se Algo Der Errado</h3>
                    <div class="error-box">
                        <h4>Cen√°rio 1: Layout Quebrado</h4>
                        <div class="code-block">
                            <pre><code># Rollback imediato para √∫ltimo commit funcional
git log --oneline -5
git reset --hard [hash-anterior]
docker-compose restart</code></pre>
                        </div>

                        <h4>Cen√°rio 2: Checkout Parou de Funcionar</h4>
                        <div class="code-block">
                            <pre><code># Voltar para develop imediatamente
git checkout develop
docker-compose restart
# Verificar se checkout funciona
# Investigar o que quebrou na feature</code></pre>
                        </div>

                        <h4>Cen√°rio 3: Desastre Total</h4>
                        <div class="code-block">
                            <pre><code># Usar backup completo
cd C:\projetos_2025
rm -rf vibegarb
cp -r vibegarb-backup-20250707 vibegarb
cd vibegarb
docker-compose up -d</code></pre>
                        </div>
                    </div>
                </div>

                <!-- Recomenda√ß√µes -->
                <div class="card conclusion">
                    <h2>Recomenda√ß√µes Finais</h2>
                    
                    <h3>‚úÖ Fa√ßa Sempre</h3>
                    <ul>
                        <li>Backup completo antes de come√ßar</li>
                        <li>Commits pequenos e frequentes</li>
                        <li>Testes a cada mudan√ßa</li>
                        <li>Trabalhe na branch de feature</li>
                        <li>Documente as mudan√ßas</li>
                    </ul>

                    <h3>‚ùå Nunca Fa√ßa</h3>
                    <ul>
                        <li>Mudan√ßas diretas na main ou develop</li>
                        <li>Commits gigantes</li>
                        <li>Altera√ß√µes sem testes</li>
                        <li>Deploy sem valida√ß√£o</li>
                        <li>Trabalhar sem backup</li>
                    </ul>

                    <h3>üéØ Status Atual</h3>
                    <p><strong>‚úÖ Pronto para come√ßar:</strong> Branch feature/redesign-homepage criada e ativa.</p>
                    <p><strong>üõ°Ô∏è Prote√ß√£o ativada:</strong> develop e main protegidas com MVP v1.0.0.</p>
                    <p><strong>üîÑ Rollback garantido:</strong> M√∫ltiplas estrat√©gias de volta dispon√≠veis.</p>
                </div>
            </div>
        </main>
    </div>
</body>
</html> 