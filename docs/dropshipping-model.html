<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modelo Dropshipping - VibeGarb</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" href="../public/favicon.ico">
    <script type="module">
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10.9.0/dist/mermaid.esm.min.mjs';
      mermaid.initialize({ startOnLoad: true });
    </script>
</head>
<body>
    <div class="app">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="../public/favicon.ico" alt="VibeGarb" class="logo">
                <p>Documenta√ß√£o do Sistema</p>
            </div>
            <nav class="nav-menu">
                <div class="nav-section">
                    <h3>üöÄ In√≠cio R√°pido</h3>
                    <ul>
                        <li><a href="index.html">Dashboard</a></li>
                        <li><a href="installation.html">Instala√ß√£o</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>üì¶ Dropshipping</h3>
                    <ul>
                        <li><a href="dropshipping-model.html" class="active">Modelo Dropshipping</a></li>
                        <li><a href="checkout-implementation.html">Checkout</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>üèóÔ∏è Refer√™ncia T√©cnica</h3>
                    <ul>
                        <li><a href="architecture.html">Arquitetura</a></li>
                        <li><a href="database.html">Banco de Dados</a></li>
                        <li><a href="development.html">Guia de Desenvolvimento</a></li>
                        <li><a href="build.html">Build & Deploy</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>üìñ MVP & Status</h3>
                    <ul>
                        <li><a href="mvp-plan.html">Plano MVP</a></li>
                        <li><a href="current-status.html">Status Atual</a></li>
                        <li><a href="phase2-completion.html">Conclus√£o Fase 2</a></li>
                        <li><a href="mvp-migrations.html">MVP Migrations</a></li>
                    </ul>
                </div>
                <div class="nav-section">
                    <h3>üõ†Ô∏è Suporte</h3>
                    <ul>
                        <li><a href="troubleshooting.html">Troubleshooting</a></li>
                    </ul>
                </div>
            </nav>
        </aside>
        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <h1>Modelo de Dropshipping - Vibe Garb E-commerce</h1>
                <p class="subtitle">V1 - Opera√ß√£o Manual com Fornecedor √önico (Dimona)</p>
            </header>
            <section>
                <h2>üìã Resumo do Modelo de Neg√≥cio (V1)</h2>
                <ol>
                    <li><b>Cliente Compra na Loja:</b> O cliente escolhe um produto, personaliza se necess√°rio, e realiza o pagamento do valor final (produto + frete) no site Vibe Garb.</li>
                    <li><b>Admin Recebe o Pedido:</b> O pedido aparece no Dashboard de Dropshipping com status <code>paid</code> (pago).</li>
                    <li><b>Admin Processa o Pedido Manualmente:</b> O administrador acessa o portal do fornecedor (Dimona), insere os detalhes do pedido (produto, quantidade, dados do cliente) e efetua o pagamento do custo de produ√ß√£o + frete do fornecedor.</li>
                    <li><b>Fornecedor Produz e Envia:</b> A Dimona produz a pe√ßa e a envia diretamente para o endere√ßo do cliente final.</li>
                    <li><b>Admin Gerencia o P√≥s-venda:</b> Quando o fornecedor disponibiliza o c√≥digo de rastreio, o admin o insere no sistema da Vibe Garb para notificar o cliente (funcionalidade futura).</li>
                </ol>
            </section>
            <section>
                <h2>üîÑ Fluxo de Trabalho na Plataforma (V1)</h2>
                
                <div class="mermaid">
graph TD
    subgraph "Site Vibe Garb"
        A[Cliente finaliza a compra] --> B[Pedido √© criado com status 'paid'];
        B --> C["Pedido aparece no Dashboard de Dropshipping"];
    end

    subgraph "Admin (Processo Manual)"
        C --> D{Admin};
        D -- "1. Acessa o portal da Dimona" --> E[Site da Dimona];
        D -- "2. Copia os dados do pedido" --> F[Insere dados do pedido manualmente na Dimona];
        D -- "3. Efetua o pagamento √† Dimona" --> G[Paga o custo do produto];
        D -- "4. Volta ao dashboard da Vibe Garb" --> H[Marca o pedido como 'Enviado ao Fornecedor'];
    end

    subgraph "Fornecedor (Dimona)"
        F --> I[Recebe e produz o pedido];
        I --> J[Envia o produto para o cliente final];
        J --> K[Fornece o c√≥digo de rastreio para o Admin];
    end

    subgraph "P√≥s-Venda (Futuro)"
        K --> L{Admin};
        L -- "Insere o c√≥digo de rastreio no sistema Vibe Garb" --> M[Status do pedido atualizado para 'Enviado'];
        M --> N[Cliente √© notificado por e-mail com o rastreio];
    end
                </div>

                <h3>Status de Pedido Relevantes para a V1</h3>
                <ul>
                    <li><code>paid</code>: Cliente pagou, pedido aguardando processamento pelo admin. √â o gatilho para a a√ß√£o.</li>
                    <li><code>processing_supplier</code>: (Sugest√£o de novo status) Admin j√° iniciou o processo no site da Dimona, mas ainda n√£o concluiu/pagou.</li>
                    <li><code>sent_to_supplier</code>: Admin j√° fez e pagou o pedido no portal da Dimona. Aguardando produ√ß√£o e envio.</li>
                    <li><code>shipped</code>: O fornecedor j√° enviou o produto e o c√≥digo de rastreio foi inserido no sistema.</li>
                </ul>
            </section>
            
            <section>
                <h2>üöÄ Pr√≥ximas Etapas e Vis√£o Futura</h2>
                <p>A vers√£o 1 deste fluxo √© <strong>intencionalmente manual</strong> para validar o modelo de neg√≥cio com baixo custo de desenvolvimento. O objetivo √© evoluir para uma automa√ß√£o completa.</p>
                <ol>
                    <li><strong>Fase 1 (Atual):</strong> Implementar o Dashboard de Dropshipping para listar pedidos <code>paid</code> e permitir ao admin marc√°-los como <code>sent_to_supplier</code>.</li>
                    <li><strong>Fase 2 (Curto Prazo):</strong> Implementar a funcionalidade de adicionar o c√≥digo de rastreio do fornecedor ao pedido e notificar o cliente.</li>
                    <li><strong>Fase 3 (M√©dio/Longo Prazo - API):</strong> Integrar com a <strong>API da Dimona</strong> para:
                        <ul>
                            <li>Enviar pedidos automaticamente assim que forem pagos.</li>
                            <li>Sincronizar o status da produ√ß√£o (ex: "em produ√ß√£o", "pronto para envio").</li>
                            <li>Receber o c√≥digo de rastreio automaticamente.</li>
                            <li>Automatizar o fluxo de ponta a ponta, minimizando a interven√ß√£o manual.</li>
                        </ul>
                    </li>
                </ol>
            </section>
            <section>
                <h2>üí∞ C√°lculo Financeiro Autom√°tico</h2>
                <p><b>F√≥rmula de Lucro:</b></p>
                <pre>Pre√ßo Final (Cliente) = Pre√ßo de Venda + Frete Cliente
Custo Total (F√°brica) = Custo de Produ√ß√£o + Frete F√°brica
Margem de Lucro = Pre√ßo Final - Custo Total</pre>
                <p><b>Exemplo Pr√°tico:</b></p>
                <ul>
                    <li><b>Produto:</b> Camiseta Premium</li>
                    <li><b>Pre√ßo de Venda:</b> R$ 89,90</li>
                    <li><b>Frete Cliente:</b> R$ 15,90</li>
                    <li><b>Pre√ßo Final:</b> R$ 105,80</li>
                    <li><b>Custo Produ√ß√£o:</b> R$ 45,00</li>
                    <li><b>Frete F√°brica:</b> R$ 12,00</li>
                    <li><b>Custo Total:</b> R$ 57,00</li>
                    <li><b>Margem de Lucro:</b> R$ 48,80 (46% de lucro)</li>
                </ul>
            </section>
            <section>
                <h2>üóÑÔ∏è Estrutura do Banco de Dados</h2>
                <h3>Tabela Products (Campos de Dropshipping)</h3>
                <pre><code>cost_price DECIMAL(10,2) -- Custo de produ√ß√£o na f√°brica
production_days INTEGER -- Prazo de produ√ß√£o em dias
supplier_id INTEGER -- ID da f√°brica fornecedora</code></pre>
                <h3>Tabela Orders (Campos de Dropshipping)</h3>
                <pre><code>production_cost DECIMAL(10,2) -- Custo total de produ√ß√£o
supplier_shipping_cost DECIMAL(10,2) -- Frete que a f√°brica cobra
profit_margin DECIMAL(10,2) -- Margem de lucro calculada
production_days INTEGER -- Prazo de produ√ß√£o
estimated_production_date DATE -- Data estimada de produ√ß√£o
estimated_shipping_date DATE -- Data estimada de envio
estimated_delivery_date DATE -- Data estimada de entrega
production_status ENUM -- Status da produ√ß√£o
supplier_status ENUM -- Status com a f√°brica
supplier_order_number VARCHAR -- N√∫mero do pedido na f√°brica
supplier_notes TEXT -- Observa√ß√µes para a f√°brica
supplier_tracking_code VARCHAR -- C√≥digo de rastreio da f√°brica
supplier_tracking_url VARCHAR -- URL de rastreio
supplier_paid BOOLEAN -- Se j√° pagou a f√°brica
supplier_payment_date DATE -- Data do pagamento
supplier_payment_amount DECIMAL(10,2) -- Valor pago</code></pre>
            </section>
            <section>
                <h2>üéØ Status dos Pedidos</h2>
                <h3>Status de Pagamento (Cliente)</h3>
                <ul>
                    <li>pending - Aguardando pagamento</li>
                    <li>processing - Processando pagamento</li>
                    <li>completed - Pago</li>
                    <li>failed - Falhou</li>
                    <li>cancelled - Cancelado</li>
                </ul>
                <h3>Status de Produ√ß√£o</h3>
                <ul>
                    <li>pending - Aguardando confirma√ß√£o</li>
                    <li>confirmed - Confirmado com f√°brica</li>
                    <li>in_production - Em produ√ß√£o</li>
                    <li>ready_to_ship - Pronto para envio</li>
                    <li>shipped - Enviado pela f√°brica</li>
                    <li>delivered - Entregue ao cliente</li>
                </ul>
                <h3>Status com F√°brica</h3>
                <ul>
                    <li>pending - Aguardando envio √† f√°brica</li>
                    <li>confirmed - Confirmado pela f√°brica</li>
                    <li>paid - Pago √† f√°brica</li>
                    <li>in_production - Em produ√ß√£o na f√°brica</li>
                    <li>shipped - Enviado pela f√°brica</li>
                </ul>
            </section>
            <section>
                <h2>üõ†Ô∏è Funcionalidades Implementadas</h2>
                <ul>
                    <li>C√°lculo autom√°tico de custos e margens</li>
                    <li>Dashboard com estat√≠sticas financeiras</li>
                    <li>Lista de pedidos prontos para f√°brica</li>
                    <li>Acompanhamento de produ√ß√£o</li>
                    <li>Gest√£o de pagamentos √† f√°brica</li>
                    <li>Atualiza√ß√£o de c√≥digos de rastreio</li>
                    <li>Rastreamento de receita total</li>
                    <li>Controle de custos de produ√ß√£o</li>
                    <li>Relat√≥rios financeiros</li>
                    <li>Exporta√ß√£o de pedidos para f√°brica</li>
                    <li>Controle de pagamentos</li>
                    <li>Tracking de envios</li>
                </ul>
            </section>
            <section>
                <h2>üìä Dashboard de Dropshipping</h2>
                <ul>
                    <li>Total de Pedidos</li>
                    <li>Pedidos Pendentes</li>
                    <li>Em Produ√ß√£o</li>
                    <li>Prontos para Envio</li>
                    <li>Receita Total</li>
                    <li>Lucro Total</li>
                    <li>N√£o Pagos √† F√°brica</li>
                </ul>
                <p>Funcionalidades: Filtros por status, busca por n√∫mero de pedido, exporta√ß√£o de dados, relat√≥rios financeiros, acompanhamento de prazos.</p>
            </section>
            <section>
                <h2>üîß APIs e Integra√ß√µes</h2>
                <h3>APIs Internas</h3>
                <ul>
                    <li>GET /admin/dropshipping/dashboard - Dashboard principal</li>
                    <li>GET /admin/dropshipping/ready-for-supplier - Pedidos prontos</li>
                    <li>GET /admin/dropshipping/in-production - Em produ√ß√£o</li>
                    <li>POST /admin/dropshipping/confirm-supplier - Confirmar com f√°brica</li>
                    <li>POST /admin/dropshipping/mark-paid - Marcar como pago</li>
                    <li>POST /admin/dropshipping/update-tracking - Atualizar rastreio</li>
                </ul>
                <h3>Integra√ß√µes Futuras</h3>
                <ul>
                    <li>API da f√°brica para envio autom√°tico de pedidos</li>
                    <li>Webhook para atualiza√ß√µes de status</li>
                    <li>Sistema de pagamento autom√°tico √† f√°brica</li>
                    <li>Notifica√ß√µes autom√°ticas de status</li>
                </ul>
            </section>
            <section>
                <h2>üìà Vantagens do Modelo Implementado</h2>
                <ul>
                    <li>Automatiza√ß√£o: c√°lculo autom√°tico de custos, prazos e status</li>
                    <li>Transpar√™ncia: cliente informado sobre produ√ß√£o sob demanda e prazos</li>
                    <li>Controle financeiro: margem de lucro autom√°tica, controle de pagamentos, relat√≥rios</li>
                    <li>Escalabilidade: pronto para m√∫ltiplas f√°bricas e fornecedores</li>
                </ul>
            </section>
            <section>
                <h2>üí° Dicas de Opera√ß√£o</h2>
                <ul>
                    <li>Gest√£o de prazos: informe prazos realistas, comunique produ√ß√£o sob demanda, acompanhe pedidos</li>
                    <li>Controle financeiro: monitore margens, mantenha reservas, analise rentabilidade</li>
                    <li>Relacionamento com f√°bricas: comunica√ß√£o clara, documente acordos, tenha alternativas</li>
                </ul>
            </section>
            <!-- Footer -->
            <footer class="content-footer">
                <p>&copy; 2025 VibeGarb - E-commerce Dropshipping</p>
                <p>Documenta√ß√£o atualizada em: <span id="lastUpdate"></span></p>
            </footer>
        </main>
    </div>
    <script src="js/main.js"></script>
</body>
</html> 