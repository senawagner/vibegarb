<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia de Desenvolvimento - Vibe Garb</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>ğŸ“š DocumentaÃ§Ã£o</h2>
                <p>Vibe Garb E-commerce</p>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="index.html">ğŸ  InÃ­cio</a></li>
                    <li><a href="architecture.html">ğŸ—ï¸ Arquitetura</a></li>
                    <li><a href="database.html">ğŸ—„ï¸ Banco de Dados</a></li>
                    <li><a href="development.html" class="active">ğŸš€ Desenvolvimento</a></li>
                    <li><a href="build.html">ğŸ”¨ Sistema de Build</a></li>
                    <li><a href="checkout-implementation.html">ğŸ’³ Checkout</a></li>
                    <li><a href="current-status.html">ğŸ“Š Status Atual</a></li>
                    <li><a href="mvp-plan.html">ğŸ“‹ Plano MVP</a></li>
                    <li><a href="mvp-migrations.html">ğŸ”§ MigraÃ§Ãµes MVP</a></li>
                    <li><a href="troubleshooting.html">ğŸ› ï¸ Troubleshooting</a></li>
                    <li><a href="dropshipping-model.html">ğŸ“¦ Modelo Dropshipping</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <header class="content-header">
                <h1>ğŸš€ Guia de Desenvolvimento - Vibe Garb</h1>
                <p class="subtitle">Workflows e prÃ¡ticas para desenvolvimento eficiente</p>
            </header>

            <div class="content-grid">
                <!-- Status do Desenvolvimento -->
                <div class="card">
                    <h2>ğŸ¯ Status do Desenvolvimento</h2>
                    
                    <div class="phase-status">
                        <div class="phase completed">
                            <h3>âœ… FASE 1 - CONCLUÃDA (100%)</h3>
                            <p><strong>Base TÃ©cnica Implementada</strong></p>
                            <ul>
                                <li>ğŸ—„ï¸ Estrutura de banco completa</li>
                                <li>ğŸ—ï¸ Models Eloquent funcionais</li>
                                <li>ğŸŒ± Seeders com dados realistas</li>
                                <li>ğŸ³ Ambiente Docker estÃ¡vel</li>
                                <li>ğŸ¨ Homepage moderna implementada</li>
                            </ul>
                        </div>
                        
                        <div class="phase completed">
                            <h3>âœ… FASE 2 - CONCLUÃDA (100%)</h3>
                            <p><strong>Sistema de CatÃ¡logo MVP</strong></p>
                            <ul>
                                <li>ğŸ›ï¸ ProductController com filtros avanÃ§ados</li>
                                <li>ğŸ¨ Pages Vue.js (Index + Show) funcionais</li>
                                <li>ğŸ” Sistema de busca e filtros</li>
                                <li>ğŸ“± Interface responsiva completa</li>
                                <li>ğŸ”— IntegraÃ§Ã£o homepage â†’ catÃ¡logo</li>
                            </ul>
                        </div>
                        
                        <div class="phase pending">
                            <h3>ğŸš§ FASE 3 - EM PLANEJAMENTO (0%)</h3>
                            <p><strong>Carrinho e Checkout</strong></p>
                            <ul>
                                <li>ğŸ›’ Sistema de carrinho</li>
                                <li>ğŸ’³ Processo de checkout</li>
                                <li>ğŸ“§ E-mails transacionais</li>
                                <li>ğŸ”— CÃ¡lculo de frete</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- Arquitetura Implementada -->
                <div class="card">
                    <h2>ğŸ—ï¸ Arquitetura Implementada</h2>
                    
                    <h3>Models e Relacionamentos</h3>
                    <div class="code-block">
                        <pre><code>// âœ… IMPLEMENTADOS - Prontos para uso

User::class          // UsuÃ¡rios (admin/customer)
â”œâ”€â”€ orders()         // 1:N - Pedidos do usuÃ¡rio
â””â”€â”€ reviews()        // 1:N - AvaliaÃ§Ãµes feitas

Category::class      // Categorias de produtos  
â””â”€â”€ products()       // 1:N - Produtos da categoria

Supplier::class      // Fornecedores (dropshipping)
â””â”€â”€ products()       // 1:N - Produtos do fornecedor

Product::class       // Produtos principais
â”œâ”€â”€ category()       // N:1 - Categoria
â”œâ”€â”€ supplier()       // N:1 - Fornecedor  
â”œâ”€â”€ variants()       // 1:N - VariaÃ§Ãµes
â”œâ”€â”€ images()         // 1:N - Imagens
â””â”€â”€ reviews()        // 1:N - AvaliaÃ§Ãµes

Order::class         // Pedidos
â”œâ”€â”€ user()           // N:1 - Cliente
â”œâ”€â”€ items()          // 1:N - Itens do pedido
â”œâ”€â”€ payments()       // 1:N - Pagamentos
â””â”€â”€ coupon()         // N:1 - Cupom usado</code></pre>
                    </div>

                    <h3>Estrutura de Pastas Atual</h3>
                    <div class="file-tree">
                        <pre>app/
â”œâ”€â”€ ğŸ“ Models/              # âœ… 11 Models implementados
â”‚   â”œâ”€â”€ User.php           # âœ… Roles, endereÃ§os
â”‚   â”œâ”€â”€ Category.php       # âœ… Slugs, hierarquia
â”‚   â”œâ”€â”€ Supplier.php       # âœ… ComissÃµes
â”‚   â”œâ”€â”€ Product.php        # âœ… PreÃ§os, estoque, SKU
â”‚   â”œâ”€â”€ ProductVariant.php # âœ… Tamanhos, cores
â”‚   â”œâ”€â”€ ProductImage.php   # âœ… MÃºltiplas imagens
â”‚   â”œâ”€â”€ Order.php          # âœ… Status, endereÃ§os
â”‚   â”œâ”€â”€ OrderItem.php      # âœ… Snapshot preÃ§os
â”‚   â”œâ”€â”€ Payment.php        # âœ… Multi-gateway
â”‚   â”œâ”€â”€ Coupon.php         # âœ… ValidaÃ§Ãµes
â”‚   â”œâ”€â”€ ProductReview.php  # âœ… VerificaÃ§Ã£o compra
â”‚   â””â”€â”€ NewsletterSubscription.php # âœ… Email marketing
â”‚
â”œâ”€â”€ ğŸ“ Http/
â”‚   â”œâ”€â”€ Controllers/       # ğŸš§ Para implementar
â”‚   â””â”€â”€ Middleware/        # ğŸš§ AutenticaÃ§Ã£o
â”‚
â””â”€â”€ ğŸ“ Services/           # ğŸš§ LÃ³gica de negÃ³cio</pre>
                    </div>
                </div>

                <!-- Ambiente de Desenvolvimento -->
                <div class="card">
                    <h2>ğŸ”§ Ambiente de Desenvolvimento</h2>
                    
                    <h3>Stack TecnolÃ³gica Atual</h3>
                    <ul>
                        <li><strong>Backend:</strong> Laravel 12.19.3 + PHP 8.2</li>
                        <li><strong>Frontend:</strong> Blade Templates + Tailwind CSS</li>
                        <li><strong>Banco:</strong> MySQL 8.0</li>
                        <li><strong>Cache:</strong> Redis 7</li>
                        <li><strong>Infraestrutura:</strong> Docker Compose</li>
                    </ul>

                    <h3>Arquitetura MVC Tradicional</h3>
                    <div class="architecture-flow">
                        <p><strong>Request â†’ Route â†’ Controller â†’ Model â†’ View (Blade) â†’ Response</strong></p>
                    </div>
                </div>

                <!-- Setup Inicial -->
                <div class="card">
                    <h2>ğŸ› ï¸ Setup Inicial</h2>
                    
                    <h3>1. PrÃ©-requisitos</h3>
                    <ul>
                        <li>Docker Desktop instalado</li>
                        <li>Git configurado</li>
                        <li>Editor de cÃ³digo (VS Code recomendado)</li>
                    </ul>

                    <h3>2. Primeira InstalaÃ§Ã£o</h3>
                    <div class="code-block">
                        <pre><code># Clone e entre no diretÃ³rio
git clone <repo> && cd vibegarb

# Configure ambiente
cp .env.example .env

# Edite o .env com as configuraÃ§Ãµes corretas:
DB_CONNECTION=mysql
DB_HOST=db
SESSION_DRIVER=file
CACHE_DRIVER=redis
APP_DEBUG=false

# Suba os containers
docker-compose up -d

# Instale dependÃªncias
docker exec vibegarb_app composer install --optimize-autoloader
docker exec vibegarb_node npm install

# Configure Laravel
docker exec vibegarb_app php artisan key:generate
docker exec vibegarb_app php artisan migrate --seed

# Build assets
docker exec vibegarb_node npm run build

# Otimize para desenvolvimento
docker exec vibegarb_app php artisan optimize</code></pre>
                    </div>
                </div>

                <!-- Estrutura de Desenvolvimento -->
                <div class="card">
                    <h2>ğŸ—ï¸ Estrutura de Desenvolvimento</h2>
                    
                    <h3>Controllers</h3>
                    <div class="code-block">
                        <pre><code>// app/Http/Controllers/ProductController.php
class ProductController extends Controller
{
    public function index(Request $request)
    {
        $products = Product::with(['category', 'variants'])
            ->when($request->search, function($query, $search) {
                $query->where('name', 'like', "%{$search}%");
            })
            ->paginate(12);

        return view('products.index', compact('products'));
    }
}</code></pre>
                    </div>

                    <h3>Views (Blade Templates)</h3>
                    <div class="code-block">
                        <pre><code>{{-- resources/views/products/index.blade.php --}}
@extends('layouts.app')

@section('content')
<div class="container mx-auto px-4">
    <h1 class="text-3xl font-bold mb-6">Produtos</h1>
    
    <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 gap-6">
        @foreach($products as $product)
            @include('products.card', ['product' => $product])
        @endforeach
    </div>
</div>
@endsection</code></pre>
                    </div>

                    <h3>Rotas</h3>
                    <div class="code-block">
                        <pre><code>// routes/web.php
Route::prefix('produtos')->name('products.')->group(function () {
    Route::get('/', [ProductController::class, 'index'])->name('index');
    Route::get('/{product:slug}', [ProductController::class, 'show'])->name('show');
});</code></pre>
                    </div>
                </div>

                <!-- Frontend Development -->
                <div class="card">
                    <h2>ğŸ¨ Frontend Development</h2>
                    
                    <h3>Asset Pipeline</h3>
                    <div class="code-block">
                        <pre><code>// resources/js/app.js (simplificado)
import './bootstrap';
import '../css/app.css';

// JavaScript vanilla para interaÃ§Ãµes mÃ­nimas</code></pre>
                    </div>

                    <h3>Tailwind CSS</h3>
                    <div class="code-block">
                        <pre><code>/* resources/css/app.css */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Componentes customizados */
@layer components {
    .btn-primary {
        @apply bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700;
    }
}</code></pre>
                    </div>

                    <h3>Build Commands</h3>
                    <div class="code-block">
                        <pre><code># Desenvolvimento (watch mode)
docker exec vibegarb_node npm run dev

# ProduÃ§Ã£o (otimizado)
docker exec vibegarb_node npm run build</code></pre>
                    </div>
                </div>

                <!-- Desenvolvimento de Models -->
                <div class="card">
                    <h2>ğŸ—„ï¸ Desenvolvimento de Models</h2>
                    
                    <h3>Model Base</h3>
                    <div class="code-block">
                        <pre><code>// app/Models/Product.php
class Product extends Model
{
    protected $fillable = [
        'name', 'slug', 'description', 'price', 'category_id'
    ];

    protected $casts = [
        'price' => 'decimal:2',
        'is_active' => 'boolean',
    ];

    // Relacionamentos
    public function category()
    {
        return $this->belongsTo(Category::class);
    }

    public function variants()
    {
        return $this->hasMany(ProductVariant::class);
    }

    // Business Logic
    public function getCurrentPriceAttribute()
    {
        return $this->sale_price ?? $this->price;
    }

    // Scopes
    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }
}</code></pre>
                    </div>
                </div>

                <!-- Workflows de Desenvolvimento -->
                <div class="card">
                    <h2>ğŸ”§ Workflows de Desenvolvimento</h2>
                    
                    <h3>1. Adicionando Nova Funcionalidade</h3>
                    <div class="workflow-steps">
                        <div class="step">
                            <h4>1. Criar Migration</h4>
                            <div class="code-block">
                                <pre><code>docker exec vibegarb_app php artisan make:migration create_feature_table</code></pre>
                            </div>
                        </div>
                        <div class="step">
                            <h4>2. Criar Model</h4>
                            <div class="code-block">
                                <pre><code>docker exec vibegarb_app php artisan make:model Feature</code></pre>
                            </div>
                        </div>
                        <div class="step">
                            <h4>3. Criar Controller</h4>
                            <div class="code-block">
                                <pre><code>docker exec vibegarb_app php artisan make:controller FeatureController</code></pre>
                            </div>
                        </div>
                        <div class="step">
                            <h4>4. Criar Views</h4>
                            <div class="code-block">
                                <pre><code>mkdir resources/views/features
touch resources/views/features/index.blade.php</code></pre>
                            </div>
                        </div>
                        <div class="step">
                            <h4>5. Adicionar Rotas</h4>
                            <div class="code-block">
                                <pre><code>Route::resource('features', FeatureController::class);</code></pre>
                            </div>
                        </div>
                    </div>

                    <h3>2. Testando Funcionalidades</h3>
                    <div class="code-block">
                        <pre><code># Acessar tinker para testes
docker exec -it vibegarb_app php artisan tinker

# Exemplos de teste
>>> $product = Product::first()
>>> $product->variants
>>> User::factory(10)->create()</code></pre>
                    </div>

                    <h3>3. Debugging</h3>
                    <div class="code-block">
                        <pre><code># Ver logs Laravel
docker exec vibegarb_app tail -f storage/logs/laravel.log

# Ver logs Nginx
docker logs vibegarb_webserver

# Debug de queries
# No .env: DB_QUERY_LOG=true</code></pre>
                    </div>
                </div>

                <!-- Gerenciamento de DependÃªncias -->
                <div class="card">
                    <h2>ğŸ“¦ Gerenciamento de DependÃªncias</h2>
                    
                    <h3>PHP (Composer)</h3>
                    <div class="code-block">
                        <pre><code># Adicionar pacote
docker exec vibegarb_app composer require package/name

# Atualizar dependÃªncias
docker exec vibegarb_app composer update

# Autoload otimizado
docker exec vibegarb_app composer dump-autoload -o</code></pre>
                    </div>

                    <h3>JavaScript (NPM)</h3>
                    <div class="code-block">
                        <pre><code># Adicionar pacote
docker exec vibegarb_node npm install package-name

# Atualizar pacotes
docker exec vibegarb_node npm update</code></pre>
                    </div>
                </div>

                <!-- Boas PrÃ¡ticas -->
                <div class="card">
                    <h2>ğŸ¯ Boas PrÃ¡ticas</h2>
                    
                    <h3>Code Style</h3>
                    <div class="code-block">
                        <pre><code># Instalar Pint (Laravel Formatter)
docker exec vibegarb_app composer require laravel/pint --dev

# Formatar cÃ³digo
docker exec vibegarb_app ./vendor/bin/pint</code></pre>
                    </div>

                    <h3>Blade Templates</h3>
                    <div class="code-block">
                        <pre><code>{{-- Usar componentes para reutilizaÃ§Ã£o --}}
@component('components.card')
    @slot('title', $product->name)
    @slot('content')
        <p>{{ $product->description }}</p>
    @endslot
@endcomponent

{{-- Escapar dados automaticamente --}}
{{ $product->name }} <!-- Safe -->
{!! $product->html_content !!} <!-- Unsafe, sÃ³ use se necessÃ¡rio --></code></pre>
                    </div>

                    <h3>Controllers</h3>
                    <div class="code-block">
                        <pre><code>// Manter controllers enxutos
class ProductController extends Controller
{
    public function index(Request $request)
    {
        $products = $this->getFilteredProducts($request);
        return view('products.index', compact('products'));
    }

    private function getFilteredProducts(Request $request)
    {
        return Product::active()
            ->filter($request->only(['search', 'category']))
            ->paginate(12);
    }
}</code></pre>
                    </div>
                </div>

                <!-- Deploy e ProduÃ§Ã£o -->
                <div class="card">
                    <h2>ğŸ”„ Deploy e ProduÃ§Ã£o</h2>
                    
                    <h3>Build para ProduÃ§Ã£o</h3>
                    <div class="code-block">
                        <pre><code># 1. Otimizar assets
docker exec vibegarb_node npm run build

# 2. Otimizar Laravel
docker exec vibegarb_app php artisan optimize
docker exec vibegarb_app php artisan config:cache
docker exec vibegarb_app php artisan route:cache
docker exec vibegarb_app php artisan view:cache

# 3. Configurar .env para produÃ§Ã£o
APP_ENV=production
APP_DEBUG=false</code></pre>
                    </div>

                    <h3>ConfiguraÃ§Ã£o Docker ProduÃ§Ã£o</h3>
                    <div class="code-block">
                        <pre><code># docker-compose.prod.yml
services:
  app:
    environment:
      - APP_ENV=production
    volumes:
      - ./:/var/www:cached,ro  # Read-only para seguranÃ§a</code></pre>
                    </div>
                </div>

                <!-- Troubleshooting -->
                <div class="card">
                    <h2>ğŸš¨ Troubleshooting</h2>
                    
                    <h3>Problemas Comuns</h3>
                    
                    <h4>1. Assets nÃ£o carregando</h4>
                    <div class="solution">
                        <div class="code-block">
                            <pre><code>rm -rf public/build
docker exec vibegarb_node npm run build</code></pre>
                        </div>
                    </div>

                    <h4>2. Erro de permissÃ£o</h4>
                    <div class="solution">
                        <div class="code-block">
                            <pre><code>docker exec vibegarb_app chown -R www-data:www-data storage</code></pre>
                        </div>
                    </div>

                    <h4>3. Cache problems</h4>
                    <div class="solution">
                        <div class="code-block">
                            <pre><code>docker exec vibegarb_app php artisan optimize:clear</code></pre>
                        </div>
                    </div>

                    <h4>4. Performance lenta</h4>
                    <div class="solution">
                        <div class="code-block">
                            <pre><code># Verificar se .env tem configuraÃ§Ãµes otimizadas:
APP_DEBUG=false
SESSION_DRIVER=file
CACHE_DRIVER=redis</code></pre>
                        </div>
                    </div>
                </div>

                <!-- Monitoramento -->
                <div class="card">
                    <h2>ğŸ“Š Monitoramento</h2>
                    
                    <h3>Logs Importantes</h3>
                    <div class="code-block">
                        <pre><code># Laravel logs
docker exec vibegarb_app tail -f storage/logs/laravel.log

# Nginx access logs
docker logs vibegarb_webserver

# Container status
docker-compose ps</code></pre>
                    </div>

                    <h3>Performance Metrics</h3>
                    <div class="code-block">
                        <pre><code># Tempo de inicializaÃ§Ã£o
docker exec vibegarb_app php artisan tinker --execute="echo microtime(true) - LARAVEL_START;"

# Status dos containers
docker stats --no-stream</code></pre>
                    </div>
                </div>

                <!-- ConfiguraÃ§Ãµes IDE -->
                <div class="card">
                    <h2>ğŸ”§ ConfiguraÃ§Ãµes IDE</h2>
                    
                    <h3>VS Code Extensions Recomendadas</h3>
                    <ul>
                        <li>Laravel Blade Snippets</li>
                        <li>Laravel Extra Intellisense</li>
                        <li>PHP Intelephense</li>
                        <li>Tailwind CSS IntelliSense</li>
                        <li>Docker</li>
                    </ul>

                    <h3>Settings.json</h3>
                    <div class="code-block">
                        <pre><code>{
    "blade.format.enable": true,
    "tailwindCSS.includeLanguages": {
        "blade": "html"
    }
}</code></pre>
                    </div>
                </div>

                <!-- ConclusÃ£o -->
                <div class="card conclusion">
                    <h2>âœ… Base SÃ³lida Pronta - Desenvolvimento Ãgil PossÃ­vel</h2>
                    <p><em>ğŸ“ Ãšltima atualizaÃ§Ã£o: Julho 2025</em></p>
                    <p><em>ğŸ¯ Foco: Desenvolvimento com Blade Templates + Laravel MVC</em></p>
                </div>
            </div>
        </main>
    </div>

    <script src="js/main.js"></script>
</body>
</html> 